<div ng-if="formType === ''">
  <h2>Select Submission Type</h2>

  <br>

  <div class="select-item-type" ng-click="selectItemType(availableTypes.Categories)">
    Category
  </div>

  <div class="select-item-type" ng-click="selectItemType(availableTypes.Brands)">
    Brand
  </div>

  <div class="select-item-type" ng-click="selectItemType(availableTypes.Products)">
    Product
  </div>
</div>

<div ng-if="formType !== ''">
  <br>
  <div class="add-form" id="add-form">

    <h2>Add New {{ itemType }}</h2>

    <div class="form-group">
      <input
        type="text"
        class="form-control"
        rows=5
        value=""
        placeholder="Name"
        ng-model="addItem.name"
        required
      >
    </div>

    <div class="form-group">
      <textarea
        type="textarea"
        class="form-control"
        rows=5
        value=""
        placeholder="Description"
        ng-model="addItem.description"
        required
      ></textarea>
    </div>

    <div class="form-group" ng-if="formType === availableTypes.Products">
      <input
      type="text"
      class="form-control"
      rows=5
      value=""
      placeholder="Link to Product"
      ng-model="addItem.purchaseUrl"
      required
    >
    </div>

    <div class="dropdown form-group" ng-if="formType !== availableTypes.Categories">
      <button class="btn btn-secondary dropdown-toggle dropdownbtn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        {{selectedCategoryName || 'Select Category'}}
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <button ng-repeat="category in categories" ng-if="category.name.length > 0" ng-click="setCategory(category)" class="dropdown-item form-control">{{category.name}}</button>
      </div>
    </div>

    <div class="dropdown form-group" ng-if="formType === availableTypes.Categories">
      <button class="btn btn-secondary dropdown-toggle dropdownbtn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        {{selectedParentCategoryName || 'Select Parent Category'}}
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <button ng-repeat="category in categories" ng-if="category.name.length > 0" ng-click="setParentCategory(category)" class="dropdown-item form-control">
          {{category.name}}
        </button>
      </div>
    </div>

    <div class="dropdown form-group" ng-if="formType === availableTypes.Products">
      <button class="btn btn-secondary dropdown-toggle dropdownbtn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        {{selectedBrandName || 'Select Brand'}}
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <button ng-repeat="brand in brands" ng-if="brand.name.length > 0" ng-click="setBrand(brand)" class="dropdown-item form-control">{{brand.name}}</button>
      </div>
    </div>

    <div class="dropdown form-group" ng-if="formType === availableTypes.Brands">
      <button class="btn btn-secondary dropdown-toggle dropdownbtn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        {{selectedRankName || 'Select Ranking'}}
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <button ng-repeat="rank in rankingOptions" ng-if="rank.length > 0" ng-click="setRanking(rank)" class="dropdown-item form-control">{{rank}}</button>
      </div>
    </div>

    <div class="form-group">
      <input
        id="pictures"
        type="submit"
        ngf-select ng-model="addItem.image"
        name="file"
        value="Select Image"
        accept="image/*"
        ngf-max-size="2MB"
        ngf-keep="true"
        ngf-keep-distinct="true"
        class="btn image-upload"
        required
      />
    </div>

    <div class="errorMessage" ng-if="errorMessage">Error submitting form. Please complete all fields to continue.<br><br></div>

    <input class="btn btn-primary btn-lg btn-block" type="submit" ng-click="processForm(addItem)" value="Submit">

    <div class="select-item-type cancel">
      <button class="btn btn-secondary" ng-click="selectItemType('')">
        Change Submission Type
      </button>
    </div>

  </div>
</div>


<div id="submitted-form">
  <h2>Submitted Successfully!</h2>

  <div class="select-item-type" ng-click="reloadPage()">
    Add New Item
  </div>

</div>
